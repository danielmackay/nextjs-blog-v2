---
title: Choosing the Best OS for .NET Development - Mac vs. Windows Showdown
date: '2024-04-28'
tags: ['dotnet', 'mac', 'windows', 'rider', 'performance', 'devex']
draft: false
summary: TBC
images: ['/static/images/choosing-the-best-os-for-development-mac-vs-windows-showdown/banner.png']
layout: PostLayout
canonicalUrl: https://www.dandoescode.com/blog/choosing-the-best-os-for-development-mac-vs-windows-showdown
---

![Banner](/static/images/choosing-the-best-os-for-development-mac-vs-windows-showdown/banner.png)

<TOCInline toc={props.toc} exclude="Overview" toHeading={3} />

## Introduction

I've been developing software on Windows for around 20 years now.  I've also been called a 'Microsoft Fanboy' from time to time. ðŸ˜†  Recently, I've noticed that the majority of the younger guys at the office are all sporting MacBooks.  These are very slick looking machines and I'm always impressed by the battery life they give out.

So after all these years on Windows, I decided to by a MacBook Air 13" as a 'travel device'.  Weighing just over 1kg and having a battery live of 18 hours, I thought this would be awesome for flights and conferences.

When news got round the office, one of my colleagues responded with:

![The Dark Side](/static/images/choosing-the-best-os-for-development-mac-vs-windows-showdown/the-dark-side.jpeg)

The plan was to get a laptop better suited to travelling, while continuing to keep my Dell â€˜workhorseâ€™ as my daily driver.

However, after a bit of use I had a feeling the MacBook Air was running quite a bit faster, so I did some basic tests.  Results were surprising so I thought Iâ€™d share.

## Laptops

|              | MacBook Air | Dell XPS 15            |
|--------------|-------------|------------------------|
| Screen Size  | 13.6"       | 15.6"                  |
| CPU          | Apple M3    | Intel i9               |
| RAM          | 24GB        | 32GB                   |
| SSD          | 512GB       | 512GB                  |
| Battery Life | 18 hours    | 13 hours (theoretical) |
| Weight       | 1.24kg      | 2.05kg                 |
| Price        | $2,699 AUD  | $4,371 AUD             |

*NOTE: The battery life is theoretical and based on the manufacturer's specifications.  With the Dell, I get around 5 hours of battery life.  I haven't been able to fully test the MacBook Air yet.*

## Tests

### Code Bases

I decided to test the performance of the two laptops on both a small and large code bases:

- [SSW.CleanArchitecture](https://github.com/SSWConsulting/SSW.CleanArchitecture)
- [SSW.Induction (SugarLearning)](https://sugarlearning.com/)

|               | SSW.CleanArchitecture | SSW.Induction |
|---------------|-----------------------|---------------|
| Project Size  | Small                 | Large         |
| Files         | 241                   | 2506          |
| Lines of Code | 51169                 | 446383        |

*NOTE: [cloc](https://github.com/AlDanial/cloc) was used to get the lines of code.*

### Test 1 - IDE Start-Up

The first test was to open up the IDE.  For this test I used Rider which was configured to open the solution automatically. I stopped the test once all analysis and indexing had completed.

I did this 3 times and averaged the results, which are as follows:

![](/static/images/choosing-the-best-os-for-development-mac-vs-windows-showdown/graph1.png)
TODO: Update Figure
Figure: Performance of developer tasks on SSW.CleanArchitecture repo

*NOTE: Graph above was produced by giving ChatGPT a markdown table and asking it to generate a bar graph ðŸ¤–*

### Test 2 - Compiling Code

For the builds, I did a clean first, then timed a build and repeated twice.

Building the code with Rider:

![](/static/images/choosing-the-best-os-for-development-mac-vs-windows-showdown/graph2.png)

Building the code via the .NET CLI:

![](/static/images/choosing-the-best-os-for-development-mac-vs-windows-showdown/graph3.png)

### Test 3 - Running Code

For the final test, I wanted to see how the performance of a website would compare between Windows and Mac.  I decided to do this on the SSW.CleanArchitecture solution only due to simplicity of it's setup and use.  We will use K6 to do a load test which will determine the maximum number of users and requests per second that the API can handle.

The load test we will use is:

```js
export let options = {
    insecureSkipTLSVerify: true,
    noConnectionReuse: false,
    // stages: [
    //     { duration: '5m', target: 100 },
    //     { duration: '10m', target: 100 },
    //     { duration: '5m', target: 0 }
    // ]
    stages: [
        { duration: '1m', target: 50 },
        { duration: '2m', target: 50 },
        { duration: '1m', target: 0 }
    ]
};

export default function() {
    let res = http.get('https://localhost:5001/api/heroes');
    check(res, {
        'status is 200': (r) => r.status === 200
    });
    sleep(1);
}
```

TODO: Add test details

Let's see what happened!

## Verdict

I thought the result difference was substantially in favour of the Mac.  Based on these simple tests, it seems like the â€˜travel laptopâ€™ is going to now be my â€˜daily driverâ€™.

TODO
I have a long relationship with Windows and Visual Studio.  However, I now find myself doing real work on a MacBook and Rider. The feeling I have is xxxx

All I need to do now is learn how to use a Macâ€¦ ðŸ˜‚

## Resources

- [K6](https://k6.io/)
